users
-----
id (PK)              - Уникальный идентификатор пользователя
username             - Имя пользователя
email                - Электронная почта
password_hash        - Хэш пароля
created_at           - Дата регистрации
is_admin             - Флаг администратора
method               - last 5: V60, джезва, эспрессо, мокка...
receipt              - last 5: рецепт приготовления
water                - last 5:
water_ppm            - last 5:
temperature          - last 5:
grinder              - last 5:
grinding             - last 5:

coffees
-------
id (PK)              - Уникальный идентификатор сорта кофе
roster               - обжарщик
name                 - Название сорта
country              - страна происхождения
region               - Регион происхождения
process              - Метод обработки (например, мытая, натуральная)
variety              - Сорт (например, Bourbon, Typica)
elevation            - Высота произрастания
description          - Описание
created_at           - Дата добавления
rating               - оценка потребителей

reviews
-------
id (PK)              - Уникальный идентификатор отзыва
user_id (FK)         - ID пользователя, оставившего отзыв
coffee_id (FK)       - ID сорта кофе
text                 - Текст отзыва
rating_2             - Оценка 0 или 1
rating_4             - Оценка от 1 до 5
rating_20            - Оценка от 80 до 100
created_at           - Дата отзыва
pack_img             - Фото пачки
method               - V60, джезва, эспрессо, мокка...
receipt              - рецепт приготовления
water
water_ppm
water_pH
water_receipt
temperature
grinder
grinding
filter ?
cafe                 - last 5: кафе


Comments (Комментарии)
--------
Хранит комментарии, включая корневые и вложенные.

Поле	    Тип данных	Описание
id	        INT (PK)	Уникальный идентификатор комментария
product_id	INT (FK)	Идентификатор обсуждаемого продукта
user_id	    INT (FK)	Идентификатор автора комментария
content	    TEXT	    Текст комментария
parent_id	INT (FK)	ID родительского комментария (NULL для корневых)
review_id   INT (FK)	ID родительского комментария (NULL для некорневых)
created_at	TIMESTAMP	Время создания комментария
updated_at	TIMESTAMP	Время последнего редактирования

Likes (Лайки)
--------
Хранит информацию о "лайках" на комментарии.

Поле	    Тип данных	Описание
id	        INT (PK)	Уникальный идентификатор
comment_id	INT (FK)	Идентификатор комментария
user_id	    INT (FK)	Идентификатор пользователя, поставившего лайк
created_at	TIMESTAMP	Время добавления лайка






СТАРЬЁ

messages
--------
id (PK)              - Уникальный идентификатор сообщения
discussion_id (FK)   - ID обсуждения
user_id (FK)         - ID пользователя, отправившего сообщение
text                 - Текст сообщения
photo                - изображение
created_at           - Дата отправки
likes
dislikes
messages             - сообщений в дискуссии

discussions
-----------
id (PK)              - Уникальный идентификатор обсуждения
coffee_id            - тред совпадает с кофе
reply_to             - id сообщения
review_id (FK)       - ID ревью сорта кофе
text                 - Текст сообщения
likes
dislikes
messages             - сообщений в дискуссии
created_at           - Дата создания

ratings
-------
id (PK)              - Уникальный идентификатор оценки
user_id (FK)         - ID пользователя
coffee_id (FK)       - ID сорта кофе
rating               - Оценка от 1 до 5
created_at           - Дата оценки

events
------
id (PK)              - Уникальный идентификатор события
user_id (FK)         - ID пользователя, совершившего действие
event_type           - Тип события (например, "review", "rating", "message")
event_target_id      - ID объекта (например, ID отзыва, сообщения или оценки)
created_at           - Дата события

Описание связей
users ↔ reviews: Один пользователь может оставить много отзывов, но каждый отзыв принадлежит одному пользователю.
users ↔ messages: Один пользователь может написать много сообщений.
users ↔ ratings: Один пользователь может оценить множество сортов кофе, но один сорт можно оценить только один раз.
coffees ↔ reviews: Один сорт кофе может иметь много отзывов.
coffees ↔ discussions: Один сорт кофе может иметь несколько обсуждений.
discussions ↔ messages: Каждое обсуждение может содержать много сообщений.
users ↔ events: Лента активности пользователя отражает его действия.

# Особенности

Уникальность оценок:
Пользователь может оставить только одну оценку для одного сорта кофе.
Это можно реализовать с помощью уникального индекса на поля user_id и coffee_id в таблице ratings.

Лента активности:
Таблица events помогает отображать действия пользователей на одной временной шкале.

Чаты и обсуждения:
Сообщения (messages) связаны с обсуждениями, а обсуждения привязаны к сортам кофе.


________
5. Отзывы о кофе (coffee_reviews)
review_id (PK): Уникальный идентификатор отзыва.
user_id (FK): Кто оставил отзыв.
coffee_id (FK): На какой кофе оставлен отзыв.
rating: Оценка (например, от 1 до 5).
review_text: Текст отзыва.
created_at: Дата отзыва.

Основные таблицы
1. Пользователи (users)
profile_picture: URL для аватара.
created_at: Дата регистрации.
bio: Биография пользователя.

2. Кофе (coffees)
coffee_id (PK): Уникальный идентификатор кофе.
name: Название сорта или смеси.
roaster_id (FK): Идентификатор обжарщика.
origin: Страна или регион происхождения.
process: Метод обработки (мытая, натуральная, honey и т.д.).
variety: Сорт кофе (например, Bourbon, Caturra).
roast_level: Уровень обжарки (светлая, средняя, темная).
description: Описание вкусовых нот.

3. Обжарщики (roasters)
roaster_id (PK): Уникальный идентификатор обжарщика.
name: Название обжарщика.
location: Местоположение (город, страна).
website: Сайт обжарщика.